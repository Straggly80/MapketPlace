<app-header></app-header>
<ion-toolbar class="toolbar">

    <ion-buttons slot="secondary" id="open-modals">
    <ion-fab-button class="icon-albums" >
      <ion-icon  name="albums-outline"></ion-icon>
    </ion-fab-button>
  </ion-buttons>


  <ion-buttons slot="primary" (click)="abrirFormulario()">
    <ion-fab-button class="icon-duplicate">
      <ion-icon  name="add-outline"></ion-icon>
    </ion-fab-button>
  </ion-buttons>

  <ion-buttons slot="start">
    <ion-menu-button auto-hide="false" ></ion-menu-button>
  </ion-buttons>
  <ion-searchbar show-cancel-button="focus" placeholder="Search" class="custom"></ion-searchbar>
</ion-toolbar>
<ion-content fullscreen class="ion-padding">



  <!-- =====================REFRESCAR PAGINA MAPA================================ -->
  <!--  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingText="Desliza para refrescar"></ion-refresher-content>
  </ion-refresher>   -->
  <!-- Mapa -->




  <div id="map">
  </div>
  
  <!-- =====================BotÃ³n flotante=================== -->
<!--   <ion-fab vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button (click)="abrirFormulario()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab> -->

  <!-- =================MODAL CARRETE======================= -->


  <ion-modal
    trigger="open-modals"
    [initialBreakpoint]="0.18"
    [breakpoints]="[0, 0.18, 0.25, 0.5]"
    handleBehavior="cycle"
    (ionWillPresent)="isCarreteOpen = true"
    (ionWillDismiss)="isCarreteOpen = false"
  >

    <ng-template>
      <ion-content class="carrete-content">
        <div class="carrete-horizontal">
          <div class="tarjeta" *ngFor="let product of products | slice:0:50">
            <div class="mini-card" (click)="abrirInfoWindow(product)">
              <img [src]="product.image" [alt]="product.name" />
              <div class="product-name">{{ product.name }}</div>
            </div>
          </div>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>




</ion-content>








<!-- open sheet modal sin boton solamente abrir mediante el desliz del usuario, 
quiero que SIEMPRE este en la pantalla pero cerrado y que se active cuando yo le de para que me deje moverle al mapa sin error, 
basicamente que pueda cerrar el modal pero siga estando en la pantalla para solo deslizar y volver a abrirlo para seguir mirando el Carrete
pero que me deje mover el mapa sin problemas, porque no me deja mover el mapa cuando el modal esta abierto.
 -->